{"ast":null,"code":"import _classCallCheck from\"C:/Program Files/hello-world/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Program Files/hello-world/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this._baseUrl=options.baseUrl;this._headers=options.headers;}_createClass(Api,[{key:\"_parseError\",value:function _parseError(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}},{key:\"getMassCards\",value:function getMassCards(){var _this=this;return fetch(\"\".concat(this._baseUrl,\"/cards\"),{headers:this._headers}).then(function(res){return _this._parseError(res);});}},{key:\"addCard\",value:function addCard(data){var _this2=this;return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:'POST',headers:this._headers,body:JSON.stringify({name:data.fieldMesto,link:data.fieldSrc})}).then(function(res){return _this2._parseError(res);});}},{key:\"deleteCard\",value:function deleteCard(cardId){var _this3=this;return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId),{method:'DELETE',headers:this._headers}).then(function(res){return _this3._parseError(res);});}},{key:\"setLike\",value:function setLike(cardId){var _this4=this;return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId,\"/likes\"),{method:'PUT',headers:this._headers}).then(function(res){return _this4._parseError(res);});}},{key:\"deleteLike\",value:function deleteLike(cardId){var _this5=this;return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId,\"/likes\"),{method:'DELETE',headers:this._headers}).then(function(res){return _this5._parseError(res);});}},{key:\"getUserInfo\",value:function getUserInfo(){var _this6=this;return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{headers:this._headers}).then(function(res){return _this6._parseError(res);});}},{key:\"editUserInfo\",value:function editUserInfo(data){var _this7=this;return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({name:data.fieldName,about:data.fieldJob})}).then(function(res){return _this7._parseError(res);});}},{key:\"editAvatar\",value:function editAvatar(data){var _this8=this;return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:data.fieldAvatarSrc})}).then(function(res){return _this8._parseError(res);});}}]);return Api;}();export default new Api({baseUrl:'https://mesto.nomoreparties.co/v1/cohort-52',headers:{authorization:'1ce13fac-ab02-437f-bb39-64ceea4d3ebd','Content-Type':'application/json'}});","map":{"version":3,"names":["Api","options","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_parseError","data","method","body","JSON","stringify","name","fieldMesto","link","fieldSrc","cardId","fieldName","about","fieldJob","avatar","fieldAvatarSrc","authorization"],"sources":["C:/Program Files/hello-world/src/utils/Api.js"],"sourcesContent":["class Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  _parseError(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`)\r\n  }\r\n\r\n  getMassCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: this._headers\r\n    })\r\n      .then(res => this._parseError(res));\r\n  }\r\n\r\n  addCard(data) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.fieldMesto,\r\n        link: data.fieldSrc\r\n      })\r\n    })\r\n      .then(res => this._parseError(res));\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n      .then(res => this._parseError(res));\r\n  }\r\n\r\n  setLike(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\r\n      method: 'PUT',\r\n      headers: this._headers\r\n    })\r\n      .then(res => this._parseError(res));\r\n  }\r\n\r\n  deleteLike(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n      .then(res => this._parseError(res));\r\n  }\r\n\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers\r\n    })\r\n      .then(res => this._parseError(res));\r\n  }\r\n\r\n  editUserInfo(data) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.fieldName,\r\n        about: data.fieldJob\r\n      })\r\n    })\r\n      .then(res => this._parseError(res));\r\n  }\r\n\r\n  editAvatar(data) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data.fieldAvatarSrc\r\n      })\r\n    })\r\n      .then(res => this._parseError(res));\r\n  }\r\n}\r\n  export default new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-52',\r\n    headers: {\r\n      authorization: '1ce13fac-ab02-437f-bb39-64ceea4d3ebd',\r\n      'Content-Type': 'application/json'\r\n    }\r\n  })"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}